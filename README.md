# ğŸ„ Merry ATRI

ä»è§†è§‰å°è¯´ã€ŠATRI -My Dear Moments-ã€‹ä¸­æå–æ—¥è¯­è¯­éŸ³æ•°æ®é›†çš„å·¥å…·å’Œè„šæœ¬ã€‚

> ğŸ… Merry Christmas! è¿™æ˜¯ä¸€ä¸ªåœ£è¯èŠ‚é¡¹ç›® ğŸ„

## ğŸ“Š æ•°æ®é›†æ¦‚è§ˆ

| é¡¹ç›® | æ•°é‡ |
|------|------|
| ğŸ“œ å‰§æœ¬ç« èŠ‚ | 32 ä¸ª |
| ğŸ“‹ æ–‡æœ¬è®°å½• | 4683 æ¡ |
| ğŸµ è¯­éŸ³æ–‡ä»¶ | æŒç»­å¢åŠ ä¸­ |

## ğŸ¯ é¡¹ç›®ç›®æ ‡

ä»æ¸¸æˆä¸­æå–ï¼š
- è§’è‰²è¯­éŸ³æ–‡ä»¶ï¼ˆ.opus/.wavï¼‰
- æ—¥æ–‡å°è¯æ–‡æœ¬
- è¯­éŸ³-æ–‡æœ¬å¯¹é½æ•°æ®é›†

ç”¨äºè®­ç»ƒ TTSï¼ˆæ–‡æœ¬è½¬è¯­éŸ³ï¼‰/ ASRï¼ˆè¯­éŸ³è¯†åˆ«ï¼‰æ¨¡å‹ã€‚

## ğŸ› ï¸ ä½¿ç”¨çš„å·¥å…·

- **KirikiriTools** - è¿è¡Œæ—¶èµ„æºæå–
- **FreeMote** - SCN/PSB åç¼–è¯‘
- **Python** - æ•°æ®å¤„ç†è„šæœ¬

## ğŸ“ é¡¹ç›®ç»“æ„

```
merry-atri/
â”œâ”€â”€ README.md                 # æœ¬æ–‡ä»¶
â”œâ”€â”€ dataset.csv              # å…¨éƒ¨æ–‡æœ¬è®°å½• (è¯­éŸ³æ–‡ä»¶å + æ—¥æ–‡å°è¯)
â”œâ”€â”€ extract_dialogue.py      # ä» JSON æå–å¯¹è¯çš„è„šæœ¬
â”œâ”€â”€ generate_dataset.py      # ç”Ÿæˆæœ€ç»ˆæ•°æ®é›†çš„è„šæœ¬
â”‚
â”œâ”€â”€ decrypted/               # åç¼–è¯‘åçš„å‰§æœ¬ JSON
â”œâ”€â”€ voices/                  # è§£å¯†åçš„è¯­éŸ³æ–‡ä»¶ (.opus)
â”œâ”€â”€ final_dataset/           # æœ€ç»ˆæ•°æ®é›†
â”‚   â”œâ”€â”€ dataset_matched.csv  # è¯­éŸ³-æ–‡æœ¬å¯¹é½è¡¨
â”‚   â””â”€â”€ dataset_matched.json # JSON æ ¼å¼
â”‚
â”œâ”€â”€ FreeMote/                # åç¼–è¯‘å·¥å…·
â””â”€â”€ KirikiriTools/           # è¿è¡Œæ—¶æå–å·¥å…·
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. æå–è¯­éŸ³ï¼ˆéœ€è¦æ¸¸æˆï¼‰

1. å°† `KirikiriTools/version.dll` å¤åˆ¶åˆ°æ¸¸æˆç›®å½•
2. åœ¨æ¸¸æˆç›®å½•åˆ›å»ºç©ºæ–‡ä»¶ `extract-unencrypted.txt`
3. è¿è¡Œæ¸¸æˆï¼Œè¯­éŸ³ä¼šè‡ªåŠ¨è§£å¯†åˆ° `unencrypted/` æ–‡ä»¶å¤¹

### 2. åç¼–è¯‘å‰§æœ¬

```powershell
cd FreeMote
.\PsbDecompile.exe <scnæ–‡ä»¶è·¯å¾„>
```

### 3. æå–æ–‡æœ¬

```bash
python extract_dialogue.py
```

### 4. ç”Ÿæˆæ•°æ®é›†

```bash
python generate_dataset.py
```

## ğŸ“‹ æ•°æ®é›†æ ¼å¼

### CSV æ ¼å¼ (dataset_matched.csv)

```csv
voice_file,voice_id,speaker,text_ja,audio_path
atr_b101_011.opus,ATR_B101_011,bgm,ã€Œã„ãˆã€å½“ç„¶ã®å‹™ã‚ã‚’æœãŸã—ãŸã¾ã§ã§ã™ã€,voices/atr_b101_011.opus
```

### JSON æ ¼å¼ (dataset_matched.json)

```json
[
  {
    "voice_file": "atr_b101_011.opus",
    "voice_id": "ATR_B101_011",
    "speaker": "bgm",
    "text_ja": "ã€Œã„ãˆã€å½“ç„¶ã®å‹™ã‚ã‚’æœãŸã—ãŸã¾ã§ã§ã™ã€",
    "audio_path": "voices/atr_b101_011.opus"
  }
]
```

## ğŸ”¤ è§’è‰²ä»£å·

| å‰ç¼€ | è§’è‰² |
|------|------|
| `ATR_` | ã‚¢ãƒˆãƒª (ATRI) - å¥³ä¸»è§’ |
| `MIN_` | ç¾å¥ˆå­ |
| `RYU_` | é¾™å¸ |
| `CAT_` | ã‚­ãƒ£ã‚µãƒªãƒ³ |

## âš ï¸ å£°æ˜

æœ¬é¡¹ç›®ä»…ç”¨äºå­¦ä¹ ç ”ç©¶ç›®çš„ã€‚æ¸¸æˆèµ„æºç‰ˆæƒå½’ Frontwing / ANIPLEX.EXE æ‰€æœ‰ã€‚

## ğŸ“„ License

MIT License

---

ğŸ„ *Created on Christmas Eve 2024* ğŸ…
